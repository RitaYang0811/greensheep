import"./sweetalert2.all-CJhZ76az.js";import{o as m}from"./orderStore-Clh-TtFH.js";import{_ as h,m as u,a as p,c as l,e as s,t as i,F as f,r as b,o as c,d as g}from"./index-BbkPRlvS.js";const O={data(){return{orderCreateTime:null,passedTime:null,homeOrderInfo:[]}},methods:{...u(m,["getAllOrders","getNewOrders"]),toOrderPage(){this.$router.push("/admin/orders")},getHomeOrders(){console.log("3",this.allOrders,this.unpaidOrders);const o=Math.floor(new Date().getTime()/1e3);console.log(o);const t=this.unpaidOrders.map(e=>({id:e.create_at,createTime:e.create_at,passedTime:this.calculatePassedTime(o,e.create_at)}));this.homeOrderInfo=t},calculatePassedTime(o,t){const e=o-t;if(e<60)return e+"秒前";if(e>=60&&e<60*60)return Math.floor(e/60)+"分鐘前";if(e>=60*60&&e<24*60*60)return Math.floor(e/3600)+"小時前";{const d=Math.floor(e/86400),n=Math.floor(e%(24*60*60)/(60*60));return d+"天"+n+"小時前"}}},computed:{...p(m,["allOrders","unpaidOrders","paidOrders","deletedOrders","doneOrders"])},async mounted(){await this.getAllOrders(),this.getHomeOrders()}},w={class:"container px-3 px-lg-10 mt-8 mt-lg-10 mb-7 mb-lg-10"},x={class:"row"},y={class:"col-12 col-lg-5 mb-9"},v=s("h1",{class:"display-3 fw-bold mb-4 text-start"},"待辦清單",-1),P={class:"d-flex"},k={class:"w-50 bg-white m-2"},T={class:"py-8"},M={class:"d-block fs-2 mb-3 text-primary fw-medium"},A=s("span",{class:"d-block fs-6 mb-3 text-primary"},"全部訂單",-1),C={class:"w-50 bg-white m-2"},H={class:"py-8"},I={class:"d-block fs-2 mb-3 text-primary fw-medium"},B=s("span",{class:"d-block fs-6 mb-3 text-primary"},"待付款訂單",-1),N={class:"col-12 col-lg-7"},S=s("h2",{class:"display-3 fw-bold mb-4 text-start"},"通知",-1),V={class:"d-flex"},D={class:"notice-board w-100 bg-white m-2"},F={class:"p-3"},G={class:"card-body p-3 text-start cursor-pointer"},E={class:"fs-6 text-dark fw-medium font-notosans mb-3"},L=s("span",{class:"float-end"},[s("i",{class:"bi bi-exclamation-circle-fill text-danger"})],-1),j={class:"fs-7 text-primary"};function q(o,t,e,d,n,a){return c(),l("div",w,[s("div",x,[s("div",y,[v,s("div",P,[s("div",k,[s("div",T,[s("span",M,i(o.allOrders.length),1),A]),s("button",{type:"button ",class:"custom-btn custom-btn-toGreen w-100",onClick:t[0]||(t[0]=(...r)=>a.toOrderPage&&a.toOrderPage(...r))}," 查看詳情 ")]),s("div",C,[s("div",H,[s("span",I,i(o.unpaidOrders.length),1),B]),s("button",{type:"button ",class:"custom-btn custom-btn-toGreen w-100",onClick:t[1]||(t[1]=(...r)=>a.toOrderPage&&a.toOrderPage(...r))}," 查看詳情 ")])])]),s("div",N,[S,s("div",V,[s("div",D,[s("div",F,[(c(!0),l(f,null,b(n.homeOrderInfo,r=>(c(),l("div",{key:r.id,class:"card border border-primary rounded-3 mb-4",onClick:t[2]||(t[2]=(..._)=>a.toOrderPage&&a.toOrderPage(..._))},[s("div",G,[s("div",E,[g(" 訂單編號："+i(r.id)+" ",1),L]),s("p",j," 恭喜你！"+i(r.passedTime)+" 收到一筆新訂單喔！ ",1)])]))),128))])])])])])])}const Q=h(O,[["render",q]]);export{Q as default};
