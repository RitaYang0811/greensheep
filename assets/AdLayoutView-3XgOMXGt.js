import{O as b}from"./bootstrap.esm-trTO7lyN.js";import{t as h,a as g}from"./sweetalertToast-3M2ebxo3.js";import{_ as k,c as x,b as s,f as d,d as a,w as i,x as y,i as w,e as n,F as L,j as r,o as _}from"./index-A6H3Xhxj.js";import{_ as f}from"./logo-white-GOvrZTHf.js";import"./sweetalert2.all-n-VoAYOC.js";const O="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23FFFFFF'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M19%206.41L17.59%205%2012%2010.59%206.41%205%205%206.41%2010.59%2012%205%2017.59%206.41%2019%2012%2013.41%2017.59%2019%2019%2017.59%2013.41%2012z'/%3e%3c/svg%3e";var E={VITE_APP_API_URL:"https://ec-course-api.hexschool.io/v2",VITE_APP_API_NAME:"greensheep",VITE_LINE_CLIENT_ID:"x9iTcS6m9Fdlz8XFfAbkqs",VITE_LINE_CLIENT_SECRET:"iGiOLRLmU2aNTDuObVQlcP5XzPYSbUzJ9gvUl4YvPzx",BASE_URL:"/greensheep/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API_URL:V}=E,A={data(){return{checkSuccess:!1,isLoading:!1,offcanvas:"",previousScrollY:0}},methods:{checkLogin(){this.isLoading=!0;const c=document.cookie.replace(/(?:(?:^|.*;\s*)AdminToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(c){this.$http.defaults.headers.common.Authorization=c;const e=`${V}/api/user/check`;this.$http.post(e).then(()=>{this.checkSuccess=!0}).catch(u=>{h(u.response.data.message),this.$router.push("/login")}).finally(()=>{this.isLoading=!1})}else h("請先登入"),this.$router.push("/login")},signout(){document.cookie="AdminToken=;expires=;",g("已登出"),this.$router.push("/login")},openOffcanvas(){this.offcanvas.show()},closeOffcanvas(){this.offcanvas.hide()}},mounted(){this.checkLogin(),this.offcanvas=new b(this.$refs.adminMenuOffcanvas,{backdrop:!0}),window.addEventListener("scroll",()=>{let c=window.scrollY;c<this.previousScrollY?this.$refs.scrollBody.classList.remove("hideUp"):this.$refs.scrollBody.classList.add("hideUp"),this.previousScrollY=c})}},C={class:"container-fluid scroll-body",ref:"scrollBody"},S={class:"row"},I={class:"d-lg-none admin-header d-flex justify-content-between align-items-center"},P=s("i",{class:"bi bi-list fs-2 text-white"},null,-1),T=[P],R=s("img",{src:f,alt:"logo",style:{width:"150px"}},null,-1),F=s("i",{class:"bi bi-house-door fs-2 text-white"},null,-1),N={class:"row"},B={class:"admin-sidebar d-none d-lg-flex flex-column justify-content-between col-lg-1 px-0 position-fixed bg-primary text-white text-center"},M={class:"list-unstyled"},U={class:"px-4 py-4"},z=s("img",{src:f,alt:"logo"},null,-1),Y={class:"list-unstyled d-flex justify-content-center gap-6"},j={class:"mt-auto"},D=s("i",{class:"bi bi-house-door fs-3"},null,-1),X=s("i",{class:"bi bi-box-arrow-right fs-3"},null,-1),q=[X],G={class:"col-lg-11 admin-main pt-12 pt-lg-0"},H={class:"admin-offcanvas offcanvas offcanvas-start bg-primary text-white",tabindex:"-1",ref:"adminMenuOffcanvas","aria-labelledby":"mobileAdminMenuLabel"},J={class:"offcanvas-header px-4 py-4 position-relative"},Q=s("img",{class:"position-absolute start-50 translate-middle-x",src:f,alt:"greensheep",style:{top:"12px"}},null,-1),K=s("img",{src:O,alt:"關閉"},null,-1),W=[K],Z={class:"offcanvas-body p-0 d-flex flex-column justify-content-between"},$={class:"list-unstyled"},ss=s("i",{class:"bi bi-box-arrow-right ms-1 fs-2 align-middle"},null,-1);function es(c,e,u,ts,m,t){const l=r("RouterLink"),v=r("RouterView"),p=r("VueLoading");return _(),x(L,null,[s("div",C,[s("div",S,[s("header",I,[s("a",{class:"d-lg-none",role:"button","aria-controls":"mobileAdminMenu",onClick:e[0]||(e[0]=d((...o)=>t.openOffcanvas&&t.openOffcanvas(...o),["prevent"]))},T),a(l,{to:"/admin/home"},{default:i(()=>[R]),_:1}),a(l,{to:"/",target:"_blank",class:"d-lg-none",title:"回前台"},{default:i(()=>[F]),_:1})])]),s("div",N,[s("aside",B,[s("ul",M,[s("li",U,[a(l,{to:"/admin/home",class:"d-none d-lg-block bg-transparent"},{default:i(()=>[z]),_:1})]),s("li",null,[a(l,{to:"/admin/home",class:"admin-sidebar-hover d-block py-6"},{default:i(()=>[n("首頁")]),_:1})]),s("li",null,[a(l,{to:"/admin/products",class:"admin-sidebar-hover d-block py-6"},{default:i(()=>[n("商品管理")]),_:1})]),s("li",null,[a(l,{to:"/admin/orders",class:"admin-sidebar-hover d-block py-6"},{default:i(()=>[n("訂單管理")]),_:1})]),s("li",null,[a(l,{to:"/admin/articles",class:"admin-sidebar-hover d-block py-6"},{default:i(()=>[n("文章管理")]),_:1})]),s("li",null,[a(l,{to:"/admin/coupons",class:"admin-sidebar-hover d-block py-6"},{default:i(()=>[n("優惠管理")]),_:1})])]),s("ul",Y,[s("li",j,[a(l,{to:"/",target:"_blank",title:"回前台"},{default:i(()=>[D]),_:1})]),s("li",null,[s("a",{href:"##",onClick:e[1]||(e[1]=d((...o)=>t.signout&&t.signout(...o),["prevent"])),title:"登出"},q)])])]),s("main",G,[m.checkSuccess?(_(),y(v,{key:0})):w("",!0)])])],512),s("div",H,[s("div",J,[Q,s("a",{class:"ms-auto",role:"button","aria-controls":"offcanvasExample",onClick:e[2]||(e[2]=d((...o)=>t.closeOffcanvas&&t.closeOffcanvas(...o),["prevent"]))},W)]),s("div",Z,[s("ul",$,[s("li",{onClick:e[3]||(e[3]=(...o)=>t.closeOffcanvas&&t.closeOffcanvas(...o))},[a(l,{to:"/admin/home",class:"admin-sidebar-hover d-block py-6"},{default:i(()=>[n("首頁")]),_:1})]),s("li",{onClick:e[4]||(e[4]=(...o)=>t.closeOffcanvas&&t.closeOffcanvas(...o))},[a(l,{to:"/admin/products",class:"admin-sidebar-hover d-block py-6"},{default:i(()=>[n("商品管理")]),_:1})]),s("li",{onClick:e[5]||(e[5]=(...o)=>t.closeOffcanvas&&t.closeOffcanvas(...o))},[a(l,{to:"/admin/orders",class:"admin-sidebar-hover d-block py-6"},{default:i(()=>[n("訂單管理")]),_:1})]),s("li",{onClick:e[6]||(e[6]=(...o)=>t.closeOffcanvas&&t.closeOffcanvas(...o))},[a(l,{to:"/admin/articles",class:"admin-sidebar-hover d-block py-6"},{default:i(()=>[n("文章管理")]),_:1})]),s("li",{onClick:e[7]||(e[7]=(...o)=>t.closeOffcanvas&&t.closeOffcanvas(...o))},[a(l,{to:"/admin/coupons",class:"admin-sidebar-hover d-block py-6"},{default:i(()=>[n("優惠管理")]),_:1})])]),s("a",{href:"##",class:"admin-sidebar-hover d-block py-6",onClick:e[8]||(e[8]=d(o=>(t.signout(),t.closeOffcanvas()),["prevent"]))},[n(" 登出 "),ss])])],512),a(p,{active:m.isLoading},null,8,["active"])],64)}const cs=k(A,[["render",es]]);export{cs as default};
