import{O as b}from"./bootstrap.esm-BjB6NxPq.js";import{t as m,a as g}from"./sweetalertToast-BpCynRrE.js";import{_ as k,c as x,b as s,f as d,d as a,w as i,x as y,i as w,e as n,F as O,j as r,o as _}from"./index-KAkDlvsk.js";import{_ as f}from"./logo-white-Iim_7vQ4.js";import"./sweetalert2.all-CY0Rikf8.js";const L="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%200%2024%2024'%20width='24px'%20fill='%23FFFFFF'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M19%206.41L17.59%205%2012%2010.59%206.41%205%205%206.41%2010.59%2012%205%2017.59%206.41%2019%2012%2013.41%2017.59%2019%2019%2017.59%2013.41%2012z'/%3e%3c/svg%3e",C={data(){return{checkSuccess:!1,isLoading:!1,offcanvas:"",previousScrollY:0}},methods:{checkLogin(){this.isLoading=!0;const c=document.cookie.replace(/(?:(?:^|.*;\s*)AdminToken\s*=\s*([^;]*).*$)|^.*$/,"$1");c?(this.$http.defaults.headers.common.Authorization=c,this.$http.post("https://ec-course-api.hexschool.io/v2/api/user/check").then(()=>{this.checkSuccess=!0}).catch(u=>{m(u.response.data.message),this.$router.push("/login")}).finally(()=>{this.isLoading=!1})):(m("請先登入"),this.$router.push("/login"))},signout(){document.cookie="AdminToken=;expires=;",g("已登出"),this.$router.push("/login")},openOffcanvas(){this.offcanvas.show()},closeOffcanvas(){this.offcanvas.hide()}},mounted(){this.checkLogin(),this.offcanvas=new b(this.$refs.adminMenuOffcanvas,{backdrop:!0}),window.addEventListener("scroll",()=>{let c=window.scrollY;c<this.previousScrollY?this.$refs.scrollBody.classList.remove("hideUp"):this.$refs.scrollBody.classList.add("hideUp"),this.previousScrollY=c})}},V={class:"container-fluid scroll-body",ref:"scrollBody"},B={class:"row"},F={class:"d-lg-none admin-header d-flex justify-content-between align-items-center"},S=s("i",{class:"bi bi-list fs-2 text-white"},null,-1),M=[S],A=s("img",{src:f,alt:"logo",style:{width:"150px"}},null,-1),j=s("i",{class:"bi bi-house-door fs-2 text-white"},null,-1),Y={class:"row"},E={class:"admin-sidebar d-none d-lg-flex flex-column justify-content-between col-lg-1 px-0 position-fixed bg-primary text-white text-center"},N={class:"list-unstyled"},R={class:"px-4 py-4"},z=s("img",{src:f,alt:"logo"},null,-1),T={class:"list-unstyled d-flex justify-content-center gap-6"},U={class:"mt-auto"},H=s("i",{class:"bi bi-house-door fs-3"},null,-1),q=s("i",{class:"bi bi-box-arrow-right fs-3"},null,-1),D=[q],G={class:"col-lg-11 admin-main pt-12 pt-lg-0"},I={class:"admin-offcanvas offcanvas offcanvas-start bg-primary text-white",tabindex:"-1",ref:"adminMenuOffcanvas","aria-labelledby":"mobileAdminMenuLabel"},J={class:"offcanvas-header px-4 py-4 position-relative"},K=s("img",{class:"position-absolute start-50 translate-middle-x",src:f,alt:"greensheep",style:{top:"12px"}},null,-1),P=s("img",{src:L,alt:"關閉"},null,-1),Q=[P],W={class:"offcanvas-body p-0 d-flex flex-column justify-content-between"},X={class:"list-unstyled"},Z=s("i",{class:"bi bi-box-arrow-right ms-1 fs-2 align-middle"},null,-1);function $(c,e,u,ss,h,o){const l=r("RouterLink"),v=r("RouterView"),p=r("VueLoading");return _(),x(O,null,[s("div",V,[s("div",B,[s("header",F,[s("a",{class:"d-lg-none",role:"button","aria-controls":"mobileAdminMenu",onClick:e[0]||(e[0]=d((...t)=>o.openOffcanvas&&o.openOffcanvas(...t),["prevent"]))},M),a(l,{to:"/admin/home"},{default:i(()=>[A]),_:1}),a(l,{to:"/",target:"_blank",class:"d-lg-none",title:"回前台"},{default:i(()=>[j]),_:1})])]),s("div",Y,[s("aside",E,[s("ul",N,[s("li",R,[a(l,{to:"/admin/home",class:"d-none d-lg-block bg-transparent"},{default:i(()=>[z]),_:1})]),s("li",null,[a(l,{to:"/admin/home",class:"admin-sidebar-hover d-block py-6"},{default:i(()=>[n("首頁")]),_:1})]),s("li",null,[a(l,{to:"/admin/products",class:"admin-sidebar-hover d-block py-6"},{default:i(()=>[n("商品管理")]),_:1})]),s("li",null,[a(l,{to:"/admin/orders",class:"admin-sidebar-hover d-block py-6"},{default:i(()=>[n("訂單管理")]),_:1})]),s("li",null,[a(l,{to:"/admin/articles",class:"admin-sidebar-hover d-block py-6"},{default:i(()=>[n("文章管理")]),_:1})]),s("li",null,[a(l,{to:"/admin/coupons",class:"admin-sidebar-hover d-block py-6"},{default:i(()=>[n("優惠管理")]),_:1})])]),s("ul",T,[s("li",U,[a(l,{to:"/",target:"_blank",title:"回前台"},{default:i(()=>[H]),_:1})]),s("li",null,[s("a",{href:"##",onClick:e[1]||(e[1]=d((...t)=>o.signout&&o.signout(...t),["prevent"])),title:"登出"},D)])])]),s("main",G,[h.checkSuccess?(_(),y(v,{key:0})):w("",!0)])])],512),s("div",I,[s("div",J,[K,s("a",{class:"ms-auto",role:"button","aria-controls":"offcanvasExample",onClick:e[2]||(e[2]=d((...t)=>o.closeOffcanvas&&o.closeOffcanvas(...t),["prevent"]))},Q)]),s("div",W,[s("ul",X,[s("li",{onClick:e[3]||(e[3]=(...t)=>o.closeOffcanvas&&o.closeOffcanvas(...t))},[a(l,{to:"/admin/home",class:"admin-sidebar-hover d-block py-6"},{default:i(()=>[n("首頁")]),_:1})]),s("li",{onClick:e[4]||(e[4]=(...t)=>o.closeOffcanvas&&o.closeOffcanvas(...t))},[a(l,{to:"/admin/products",class:"admin-sidebar-hover d-block py-6"},{default:i(()=>[n("商品管理")]),_:1})]),s("li",{onClick:e[5]||(e[5]=(...t)=>o.closeOffcanvas&&o.closeOffcanvas(...t))},[a(l,{to:"/admin/orders",class:"admin-sidebar-hover d-block py-6"},{default:i(()=>[n("訂單管理")]),_:1})]),s("li",{onClick:e[6]||(e[6]=(...t)=>o.closeOffcanvas&&o.closeOffcanvas(...t))},[a(l,{to:"/admin/articles",class:"admin-sidebar-hover d-block py-6"},{default:i(()=>[n("文章管理")]),_:1})]),s("li",{onClick:e[7]||(e[7]=(...t)=>o.closeOffcanvas&&o.closeOffcanvas(...t))},[a(l,{to:"/admin/coupons",class:"admin-sidebar-hover d-block py-6"},{default:i(()=>[n("優惠管理")]),_:1})])]),s("a",{href:"##",class:"admin-sidebar-hover d-block py-6",onClick:e[8]||(e[8]=d(t=>(o.signout(),o.closeOffcanvas()),["prevent"]))},[n(" 登出 "),Z])])],512),a(p,{active:h.isLoading},null,8,["active"])],64)}const is=k(C,[["render",$]]);export{is as default};
