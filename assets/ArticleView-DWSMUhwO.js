import{p as m}from"./productStore-FrKXrMX7.js";import{c as x}from"./cartStore-B0C_ic9H.js";import{_ as v,m as u,a as P,D as L,c as s,b as t,d as n,w as d,t as a,i as h,F as p,r as E,j as b,o,e as g,f as T}from"./index-D7ala9mg.js";import{t as k}from"./sweetalertToast-CYAj1BLf.js";import"./sweetalert2.all-B-5BzFnh.js";var w={VITE_APP_API_URL:"https://ec-course-api.hexschool.io/v2",VITE_APP_API_NAME:"greensheep",VITE_LINE_CLIENT_ID:"x9iTcS6m9Fdlz8XFfAbkqs",VITE_LINE_CLIENT_SECRET:"iGiOLRLmU2aNTDuObVQlcP5XzPYSbUzJ9gvUl4YvPzx",BASE_URL:"/greensheep/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API_URL:A,VITE_APP_API_NAME:I}=w,V={data(){return{article:"",isLoading:!1}},methods:{...u(m,["getProducts","getRecommendProducts"]),...u(x,["addToCart"]),getArticle(){this.isLoading=!0;const i=this.$route.params.id,_=`${A}/api/${I}/article/${i}`;this.$http.get(_).then(r=>{this.article=r.data.article}).catch(r=>{k(r.response.data.message)}).finally(()=>{this.isLoading=!1})}},computed:{...P(m,["products","recommendProducts"])},async mounted(){const i=L();this.getArticle(),await this.getProducts(i),this.getRecommendProducts()}},N={class:"container text-start py-7 py-lg-20"},R={"aria-label":"breadcrumb "},C={class:"breadcrumb mb-20"},S={class:"breadcrumb-item"},$={class:"breadcrumb-item"},U={class:"breadcrumb-item active","aria-current":"page"},D={class:"h2 text-primary text-center mb-12 fw-bold","data-aos":"fade-up","data-aos-duration":"1200","data-aos-delay":"100","data-aos-once":"true"},M={class:"row d-flex d-lg-block mb-20","data-aos":"fade-up","data-aos-duration":"1200","data-aos-delay":"200","data-aos-once":"true"},z={class:"col-12 lh-lg text-primary ck-content"},F=["innerHTML"],B={key:0,class:"h4 text-primary text-center mb-10 fw-bold","data-aos":"fade-up","data-aos-duration":"1200","data-aos-once":"true"},O={class:"row row-cols-2 row-cols-md-4 g-4 mb-20 ps-0 list-unstyled"},j={class:"h-border position-relative",style:{width:"100%","padding-top":"100%"}},G={key:0,class:"position-absolute start-0 bottom-0 z-3 bg-deco p-1 text-dark fs-8"},H=["src","alt"],X=["src","alt"],Y={class:"card-body text-start"},q={class:"card-title display-7 text-dark my-2"},J={key:0,class:"card-text display-8 text-primary mt-3 mb-6"},Q={key:1,class:"mt-3 mb-1"},K={class:"card-text display-8 text-primary my-2 me-2"},W=t("br",null,null,-1),Z={class:"card-text display-8 text-grey9F text-decoration-line-through"},tt=["onClick"],et=t("i",{class:"bi bi-bag-check fs-6"},null,-1),st=[et];function at(i,_,r,ot,c,it){const l=b("RouterLink"),f=b("VueLoading");return o(),s(p,null,[t("div",N,[t("nav",R,[t("ol",C,[t("li",S,[n(l,{to:"/"},{default:d(()=>[g("首頁")]),_:1})]),t("li",$,[n(l,{to:"/articles"},{default:d(()=>[g("專欄文章")]),_:1})]),t("li",U,a(c.article.title),1)])]),t("h1",D,a(c.article.title),1),t("div",M,[t("div",z,[t("div",{innerHTML:c.article.content},null,8,F)])]),c.article?(o(),s("h2",B," 猜你也喜歡 ")):h("",!0),t("ul",O,[(o(!0),s(p,null,E(i.recommendProducts,(e,y)=>(o(),s("li",{class:"col list-unstyled h-100 column",key:e.id},[n(l,{to:`/products/${e.id}`,class:"d-flex flex-column product-item","data-aos":"fade-up","data-aos-duration":"1200","data-aos-delay":y*200,"data-aos-once":"true"},{default:d(()=>[t("div",j,[e.discount!==10?(o(),s("span",G,a(e.discount)+"折",1)):h("",!0),t("img",{src:e.imageUrl,alt:e.title,class:"show position-absolute top-0 start-0 w-100 h-100 object-fit-cover"},null,8,H),t("img",{src:e.imageUrl2,alt:e.title,class:"change position-absolute top-0 start-0 w-100 h-100 object-fit-cover"},null,8,X)]),t("div",Y,[t("h5",q,a(e.title),1),e.origin_price===e.price?(o(),s("p",J," NT$ "+a(e.origin_price),1)):(o(),s("div",Q,[t("span",K,"NT$ "+a(e.origin_price),1),W,t("span",Z," NT$ "+a(e.price),1)])),t("button",{type:"button",class:"custom-btn custom-btn-toGreen text-center w-100 border-1",onClick:T(ct=>i.addToCart(e.id),["prevent"])},st,8,tt)])]),_:2},1032,["to","data-aos-delay"])]))),128))])]),n(f,{active:c.isLoading},null,8,["active"])],64)}const mt=v(V,[["render",at]]);export{mt as default};
