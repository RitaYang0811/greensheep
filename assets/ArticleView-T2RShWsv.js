import{p as _}from"./productStore-D9y2Gogm.js";import{c as x}from"./cartStore-DeARqi3T.js";import{_ as v,m as u,a as w,A as k,c as s,b as t,d as n,w as l,t as a,i as h,F as p,r as L,j as b,o,e as g,f as $}from"./index-dwIyU8JD.js";import{t as T}from"./sweetalertToast-DLq395OC.js";import"./sweetalert2.all-CtTektYC.js";const C={data(){return{article:"",isLoading:!1}},methods:{...u(_,["getProducts","getRecommendProducts"]),...u(x,["addToCart"]),getArticle(){this.isLoading=!0;const m=`https://ec-course-api.hexschool.io/v2/api/greensheep/article/${this.$route.params.id}`;this.$http.get(m).then(r=>{this.article=r.data.article}).catch(r=>{T(r.response.data.message)}).finally(()=>{this.isLoading=!1})}},computed:{...w(_,["products","recommendProducts"])},async mounted(){const i=k();this.getArticle(),await this.getProducts(i),await this.getRecommendProducts()}},N={class:"container text-start py-7 py-lg-20"},V={"aria-label":"breadcrumb "},P={class:"breadcrumb mb-20"},A={class:"breadcrumb-item"},R={class:"breadcrumb-item"},S={class:"breadcrumb-item active","aria-current":"page"},j={class:"h2 text-primary text-center mb-12 fw-bold","data-aos":"fade-up","data-aos-duration":"1200","data-aos-delay":"100","data-aos-once":"true"},B={class:"row d-flex d-lg-block mb-20","data-aos":"fade-up","data-aos-duration":"1200","data-aos-delay":"200","data-aos-once":"true"},F={class:"col-12 lh-lg text-primary ck-content"},M=["innerHTML"],E={key:0,class:"h4 text-primary text-center mb-10 fw-bold","data-aos":"fade-up","data-aos-duration":"1200","data-aos-once":"true"},H={class:"row row-cols-2 row-cols-md-4 g-4 mb-20 ps-0 list-unstyled"},U={class:"h-border position-relative",style:{width:"100%","padding-top":"100%"}},z={key:0,class:"position-absolute start-0 bottom-0 z-3 bg-deco p-1 text-dark fs-8"},D=["src"],G=["src"],q={class:"card-body text-start"},I={class:"card-title display-7 text-dark my-2"},J={key:0,class:"card-text display-8 text-primary mt-3 mb-6"},K={key:1,class:"mt-3 mb-1"},O={class:"card-text display-8 text-primary my-2 me-2"},Q=t("br",null,null,-1),W={class:"card-text display-8 text-grey9F text-decoration-line-through"},X=["onClick"],Y=t("i",{class:"bi bi-bag-check fs-6"},null,-1),Z=[Y];function tt(i,m,r,et,c,st){const d=b("RouterLink"),f=b("VueLoading");return o(),s(p,null,[t("div",N,[t("nav",V,[t("ol",P,[t("li",A,[n(d,{to:"/"},{default:l(()=>[g("首頁")]),_:1})]),t("li",R,[n(d,{to:"/articles"},{default:l(()=>[g("專欄文章")]),_:1})]),t("li",S,a(c.article.title),1)])]),t("h1",j,a(c.article.title),1),t("div",B,[t("div",F,[t("div",{innerHTML:c.article.content},null,8,M)])]),c.article?(o(),s("h2",E," 猜你也喜歡 ")):h("",!0),t("ul",H,[(o(!0),s(p,null,L(i.recommendProducts,(e,y)=>(o(),s("li",{class:"col list-unstyled h-100 column",key:e.id},[n(d,{to:`/products/${e.id}`,class:"d-flex flex-column product-item","data-aos":"fade-up","data-aos-duration":"1200","data-aos-delay":y*200,"data-aos-once":"true"},{default:l(()=>[t("div",U,[e.discount!==10?(o(),s("span",z,a(e.discount)+"折",1)):h("",!0),t("img",{src:e.imageUrl,class:"show position-absolute top-0 start-0 w-100 h-100 object-fit-cover"},null,8,D),t("img",{src:e.imageUrl2,class:"change position-absolute top-0 start-0 w-100 h-100 object-fit-cover"},null,8,G)]),t("div",q,[t("h5",I,a(e.title),1),e.origin_price===e.price?(o(),s("p",J," NT$ "+a(e.origin_price),1)):(o(),s("div",K,[t("span",O,"NT$ "+a(e.origin_price),1),Q,t("span",W," NT$ "+a(e.price),1)])),t("button",{href:"#",class:"custom-btn custom-btn-toGreen text-center w-100 border-1",onClick:$(at=>i.addToCart(e.id),["prevent"])},Z,8,X)])]),_:2},1032,["to","data-aos-delay"])]))),128))])]),n(f,{active:c.isLoading},null,8,["active"])],64)}const dt=v(C,[["render",tt]]);export{dt as default};
