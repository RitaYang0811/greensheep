import{p as _}from"./productStore-CE6MiUFH.js";import{c as x}from"./cartStore-o-XVphx5.js";import{_ as v,m as h,a as w,A as k,c as o,e as t,b as n,w as d,t as a,i as u,F as p,r as L,j as b,o as i,d as g,f as T}from"./index-BbkPRlvS.js";import{t as C}from"./sweetalertToast-D6pcczT1.js";import"./sweetalert2.all-CJhZ76az.js";const N={data(){return{article:"",isLoading:!1}},methods:{...h(_,["getProducts","getRecommendProducts"]),...h(x,["addToCart"]),getArticle(){this.isLoading=!0;const m=`https://ec-course-api.hexschool.io/v2/api/greensheep/article/${this.$route.params.id}`;this.$http.get(m).then(r=>{this.article=r.data.article}).catch(r=>{C(r.response.data.message)}).finally(()=>{this.isLoading=!1})}},computed:{...w(_,["products","recommendProducts"])},async mounted(){const c=k();this.getArticle(),await this.getProducts(c),await this.getRecommendProducts()}},V={class:"container text-start py-7 py-lg-20"},$={"aria-label":"breadcrumb "},P={class:"breadcrumb mb-20"},A={class:"breadcrumb-item"},R={class:"breadcrumb-item"},S={class:"breadcrumb-item active","aria-current":"page"},j={class:"h2 text-primary text-center mb-12 fw-bold","data-aos":"fade-up","data-aos-duration":"1200","data-aos-delay":"100","data-aos-once":"true"},B={class:"row d-flex d-lg-block mb-20","data-aos":"fade-up","data-aos-duration":"1200","data-aos-delay":"200","data-aos-once":"true"},F={class:"col-lg-5 ms-4 mb-2",style:{float:"right"}},M=["src","alt"],E={class:"col-12 lh-lg text-primary"},H=["innerHTML"],U={key:0,class:"h4 text-primary text-center mb-10 fw-bold","data-aos":"fade-up","data-aos-duration":"1200","data-aos-once":"true"},z={class:"row row-cols-2 row-cols-md-4 g-4 mb-20 ps-0 list-unstyled"},D={class:"h-border position-relative",style:{width:"100%","padding-top":"100%"}},G={key:0,class:"position-absolute start-0 bottom-0 z-3 bg-deco p-1 text-dark fs-8"},q=["src"],I=["src"],J={class:"card-body text-start"},K={class:"card-title display-7 text-dark my-2"},O={key:0,class:"card-text display-8 text-primary mt-3 mb-6"},Q={key:1,class:"mt-3 mb-1"},W={class:"card-text display-8 text-primary my-2 me-2"},X=t("br",null,null,-1),Y={class:"card-text display-8 text-grey9F text-decoration-line-through"},Z=["onClick"],tt=t("i",{class:"bi bi-bag-check fs-6"},null,-1),et=[tt];function st(c,m,r,ot,s,at){const l=b("RouterLink"),f=b("VueLoading");return i(),o(p,null,[t("div",V,[t("nav",$,[t("ol",P,[t("li",A,[n(l,{to:"/"},{default:d(()=>[g("首頁")]),_:1})]),t("li",R,[n(l,{to:"/articles"},{default:d(()=>[g("專欄文章")]),_:1})]),t("li",S,a(s.article.title),1)])]),t("h1",j,a(s.article.title),1),t("div",B,[t("div",F,[t("img",{src:s.article.image,alt:s.article.title},null,8,M)]),t("div",E,[t("div",{innerHTML:s.article.content},null,8,H)])]),s.article?(i(),o("h2",U," 猜你也喜歡 ")):u("",!0),t("ul",z,[(i(!0),o(p,null,L(c.recommendProducts,(e,y)=>(i(),o("li",{class:"col list-unstyled h-100 column",key:e.id},[n(l,{to:`/products/${e.id}`,class:"d-flex flex-column product-item","data-aos":"fade-up","data-aos-duration":"1200","data-aos-delay":y*200,"data-aos-once":"true"},{default:d(()=>[t("div",D,[e.discount!==10?(i(),o("span",G,a(e.discount)+"折",1)):u("",!0),t("img",{src:e.imageUrl,class:"show position-absolute top-0 start-0 w-100 h-100 object-fit-cover"},null,8,q),t("img",{src:e.imageUrl2,class:"change position-absolute top-0 start-0 w-100 h-100 object-fit-cover"},null,8,I)]),t("div",J,[t("h5",K,a(e.title),1),e.origin_price===e.price?(i(),o("p",O," NT$ "+a(e.origin_price),1)):(i(),o("div",Q,[t("span",W,"NT$ "+a(e.origin_price),1),X,t("span",Y," NT$ "+a(e.price),1)])),t("button",{href:"#",class:"custom-btn custom-btn-toGreen text-center w-100 border-1",onClick:T(it=>c.addToCart(e.id),["prevent"])},et,8,Z)])]),_:2},1032,["to","data-aos-delay"])]))),128))])]),n(f,{active:s.isLoading},null,8,["active"])],64)}const mt=v(N,[["render",st]]);export{mt as default};
