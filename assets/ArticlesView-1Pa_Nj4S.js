import{_ as w,c as o,a as e,b as n,w as c,F as r,i as m,u as y,e as x,r as b,o as i,d as u,t as h}from"./index-2hhN2grE.js";const P={data(){return{articles:[],currentPage:1,currentPageArticles:[],isLoading:!1}},methods:{async getArticles(){try{this.isLoading=!0;let l,d;const p="https://ec-course-api.hexschool.io/v2/api/greensheep/articles",_=await this.$http.get(p);for(this.articles=_.data.articles,l=_.data.pagination.current_page+1,d=_.data.pagination.total_pages;l<=d;){const s=await this.$http.get(`${p}?page=${l}`);this.articles=[...this.articles,...s.data.articles],l++}this.articles.sort((s,g)=>{const a=s.isPinned===void 0?0:Number(s.isPinned);return(g.isPinned===void 0?0:Number(g.isPinned))-a}),this.changePage(this.currentPage)}catch(l){alert(l.response.data.message)}finally{this.isLoading=!1}},changePage(l){this.currentPageArticles=this.articles.slice((l-1)*11,l*11)}},computed:{},mounted(){this.getArticles()}},k={class:"articles container-md"},N={class:"pt-7 pt-lg-20"},j={"aria-label":"breadcrumb"},A={class:"breadcrumb mb-20"},L={class:"breadcrumb-item"},V=e("li",{class:"breadcrumb-item active","aria-current":"page"},"專欄文章",-1),R=e("h1",{class:"h2 text-primary mb-12 fw-bold"},"專欄文章",-1),E={class:"row list-unstyled mb-10 mb-lg-20 d-none d-lg-flex",style:{"row-gap":"24px"}},O={class:"articles-item position-relative h-100"},C=["src","alt"],M={class:"black-overlay position-absolute top-0 start-0 d-flex flex-column justify-content-center align-items-center w-100 h-100"},B={class:"fs-4 text-white lh-lg mb-3"},$={class:"articles-item position-relative h-100"},F=["src","alt"],D={class:"black-overlay position-absolute top-0 start-0 d-flex flex-column justify-content-center align-items-center w-100 h-100"},S={class:"fs-5 text-white lh-lg mb-3"},T={class:"articles-item position-relative h-100"},U=["src","alt"],q={class:"black-overlay position-absolute top-0 start-0 d-flex flex-column justify-content-center align-items-center w-100 h-100"},z={class:"fs-5 text-white lh-lg mb-3"},G={class:"row list-unstyled mb-10 mb-lg-20 d-lg-none",style:{"row-gap":"24px"}},H={class:"articles-item position-relative h-100"},I=["src","alt"],J={class:"black-overlay opacity-100 position-absolute top-50 translate-middle-y d-flex flex-column justify-content-center align-items-center w-100 p-4"},K={class:"fs-5 fs-sm-4 text-white lh-lg mb-3"},Q={class:"articles-item position-relative h-100"},W=["src","alt"],X={class:"black-overlay opacity-100 position-absolute top-50 translate-middle-y d-flex flex-column justify-content-center align-items-center w-100 p-4"},Y={class:"fs-5 text-white lh-lg mb-3"},Z=e("span",{class:"material-icons fs-8 p-1"}," navigate_before ",-1),tt=e("span",{class:"material-icons fs-8 p-1"}," navigate_next ",-1);function et(l,d,p,_,s,g){const a=b("RouterLink"),f=b("vue-awesome-paginate"),v=b("VueLoading");return i(),o(r,null,[e("div",k,[e("div",N,[e("nav",j,[e("ol",A,[e("li",L,[n(a,{to:"/"},{default:c(()=>[u("首頁")]),_:1})]),V])]),R]),e("ul",E,[(i(!0),o(r,null,m(s.currentPageArticles.slice(0,1),t=>(i(),o("li",{class:"col-12",key:t.id},[e("div",O,[e("img",{src:t.image,alt:t.title,class:"w-100 h-100 object-fit-cover"},null,8,C),e("div",M,[e("h3",B,h(t.title),1),n(a,{to:`/articles/${t.id}`,class:"custom-btn custom-btn-more"},{default:c(()=>[u("MORE")]),_:2},1032,["to"])])])]))),128)),(i(!0),o(r,null,m(s.currentPageArticles.slice(1,7),t=>(i(),o("li",{class:"col-4",key:t.id},[e("div",$,[e("img",{src:t.image,alt:t.title,class:"w-100 h-100 object-fit-cover"},null,8,F),e("div",D,[e("h3",S,h(t.title),1),n(a,{to:`/articles/${t.id}`,class:"custom-btn custom-btn-more"},{default:c(()=>[u("MORE")]),_:2},1032,["to"])])])]))),128)),(i(!0),o(r,null,m(s.currentPageArticles.slice(7,11),t=>(i(),o("li",{class:"col-3",key:t.id},[e("div",T,[e("img",{src:t.image,alt:t.title,class:"w-100 h-100 object-fit-cover"},null,8,U),e("div",q,[e("h3",z,h(t.title),1),n(a,{to:`/articles/${t.id}`,class:"custom-btn custom-btn-more"},{default:c(()=>[u("MORE")]),_:2},1032,["to"])])])]))),128))]),e("ul",G,[(i(!0),o(r,null,m(s.currentPageArticles.slice(0,1),t=>(i(),o("li",{class:"col-12",key:t.id},[e("div",H,[e("img",{src:t.image,alt:t.title,class:"w-100 h-100 object-fit-cover"},null,8,I),e("div",J,[e("h3",K,h(t.title),1),n(a,{to:`/articles/${t.id}`,class:"custom-btn custom-btn-more"},{default:c(()=>[u("MORE")]),_:2},1032,["to"])])])]))),128)),(i(!0),o(r,null,m(s.currentPageArticles.slice(1,11),t=>(i(),o("li",{class:"col-12 col-sm-6",key:t.id},[e("div",Q,[e("img",{src:t.image,alt:t.title,class:"w-100 h-100 object-fit-cover"},null,8,W),e("div",X,[e("h3",Y,h(t.title),1),n(a,{to:`/articles/${t.id}`,class:"custom-btn custom-btn-more"},{default:c(()=>[u("MORE")]),_:2},1032,["to"])])])]))),128))]),s.isLoading?x("",!0):(i(),y(f,{key:0,"total-items":s.articles.length,"items-per-page":11,"max-pages-shown":3,modelValue:s.currentPage,"onUpdate:modelValue":d[0]||(d[0]=t=>s.currentPage=t),onClick:g.changePage,"pagination-container-class":"cus-pagination va-pagination mb-20 mb-lg-25","paginate-buttons-class":"page-link","number-buttons-class":"fs-8","active-page-class":"active"},{"prev-button":c(()=>[Z]),"next-button":c(()=>[tt]),_:1},8,["total-items","modelValue","onClick"]))]),n(v,{active:s.isLoading},null,8,["active"])],64)}const it=w(P,[["render",et]]);export{it as default};
