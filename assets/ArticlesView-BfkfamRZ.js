import{y as w,z as v,_ as x,m as k,a as C,c as o,e,b as c,w as n,F as r,r as m,u as A,i as j,j as b,o as a,d,t as g}from"./index-BCSXIYdC.js";import{t as L}from"./sweetalertToast-D4HbBDbs.js";import"./sweetalert2.all-CB-xDPOJ.js";const y=w("articleStore",{state:()=>({articles:[],currentPage:1,currentPageArticles:[],isLoading:!1}),actions:{async getArticles(){try{this.isLoading=!0;let s,u;const p="https://ec-course-api.hexschool.io/v2/api/greensheep/articles",h=await v.get(p);for(this.articles=h.data.articles,s=h.data.pagination.current_page+1,u=h.data.pagination.total_pages;s<=u;){const l=await v.get(`${p}?page=${s}`);this.articles=[...this.articles,...l.data.articles],s++}this.articles.sort((l,_)=>{const i=l.isPinned===void 0?0:Number(l.isPinned);return(_.isPinned===void 0?0:Number(_.isPinned))-i}),this.changePage(this.currentPage)}catch(s){L(s.response.data.message)}finally{this.isLoading=!1}},changePage(s){this.currentPageArticles=this.articles.slice((s-1)*11,s*11)},updateCurrentPage(s){this.currentPage=s}}}),N={data(){return{articlesCurrentPage:1}},methods:{...k(y,["getArticles","changePage","updateCurrentPage"])},watch:{articlesCurrentPage(){this.updateCurrentPage(this.articlesCurrentPage)},currentPage(){this.articlesCurrentPage=this.currentPage}},computed:{...C(y,["isLoading","currentPage","currentPageArticles","articles"])},mounted(){this.getArticles()}},$={class:"articles container-md"},V={class:"pt-7 pt-lg-20"},E={"aria-label":"breadcrumb"},R={class:"breadcrumb mb-20"},O={class:"breadcrumb-item"},M=e("li",{class:"breadcrumb-item active","aria-current":"page"},"專欄文章",-1),S=e("h1",{class:"h2 text-primary mb-12 fw-bold","data-aos":"fade-up","data-aos-duration":"1200","data-aos-once":"true"},"專欄文章",-1),B={class:"row list-unstyled mb-10 mb-lg-20 d-none d-lg-flex",style:{"row-gap":"24px"}},F={class:"articles-item position-relative h-100"},z=["src","alt"],D={class:"black-overlay position-absolute top-0 start-0 d-flex flex-column justify-content-center align-items-center w-100 h-100 p-4"},T={class:"fs-4 text-white lh-sm mb-3"},U={class:"articles-item position-relative h-100"},q=["src","alt"],G={class:"black-overlay position-absolute top-0 start-0 d-flex flex-column justify-content-center align-items-center w-100 h-100 p-4"},H={class:"fs-5 text-white lh-sm mb-3"},I={class:"articles-item position-relative h-100"},J=["src","alt"],K={class:"black-overlay position-absolute top-0 start-0 d-flex flex-column justify-content-center align-items-center w-100 h-100 p-4"},Q={class:"fs-6 text-white lh-sm mb-3"},W={class:"row list-unstyled mb-10 mb-lg-20 d-lg-none",style:{"row-gap":"24px"}},X={class:"articles-item position-relative h-100"},Y=["src","alt"],Z={class:"black-overlay opacity-100 position-absolute top-50 translate-middle-y d-flex flex-column justify-content-center align-items-center w-100 p-4"},tt={class:"fs-5 fs-sm-4 text-white lh-sm mb-3"},et={class:"articles-item position-relative h-100"},st=["src","alt"],at={class:"black-overlay opacity-100 position-absolute top-50 translate-middle-y d-flex flex-column justify-content-center align-items-center w-100 p-4"},ot={class:"fs-5 text-white lh-sm mb-3"},it=e("span",{class:"material-icons fs-8 p-1"}," navigate_before ",-1),nt=e("span",{class:"material-icons fs-8 p-1"}," navigate_next ",-1);function lt(s,u,p,h,l,_){const i=b("RouterLink"),f=b("vue-awesome-paginate"),P=b("VueLoading");return a(),o(r,null,[e("div",$,[e("div",V,[e("nav",E,[e("ol",R,[e("li",O,[c(i,{to:"/"},{default:n(()=>[d("首頁")]),_:1})]),M])]),S]),e("ul",B,[(a(!0),o(r,null,m(s.currentPageArticles.slice(0,1),t=>(a(),o("li",{class:"col-12",key:t.id,"data-aos":"fade-up","data-aos-duration":"1200","data-aos-delay":"200","data-aos-once":"true"},[e("div",F,[e("img",{src:t.image,alt:t.title,class:"w-100 h-100 object-fit-cover"},null,8,z),e("div",D,[e("h3",T,g(t.title),1),c(i,{to:`/articles/${t.id}`,class:"custom-btn custom-btn-more"},{default:n(()=>[d("MORE")]),_:2},1032,["to"])])])]))),128)),(a(!0),o(r,null,m(s.currentPageArticles.slice(1,7),t=>(a(),o("li",{class:"col-4",key:t.id,"data-aos":"fade-up","data-aos-duration":"1200","data-aos-delay":"400","data-aos-once":"true"},[e("div",U,[e("img",{src:t.image,alt:t.title,class:"w-100 h-100 object-fit-cover"},null,8,q),e("div",G,[e("h3",H,g(t.title),1),c(i,{to:`/articles/${t.id}`,class:"custom-btn custom-btn-more"},{default:n(()=>[d("MORE")]),_:2},1032,["to"])])])]))),128)),(a(!0),o(r,null,m(s.currentPageArticles.slice(7,11),t=>(a(),o("li",{class:"col-3",key:t.id,"data-aos":"fade-up","data-aos-duration":"1200","data-aos-delay":"600","data-aos-once":"true"},[e("div",I,[e("img",{src:t.image,alt:t.title,class:"w-100 h-100 object-fit-cover"},null,8,J),e("div",K,[e("h3",Q,g(t.title),1),c(i,{to:`/articles/${t.id}`,class:"custom-btn custom-btn-more"},{default:n(()=>[d("MORE")]),_:2},1032,["to"])])])]))),128))]),e("ul",W,[(a(!0),o(r,null,m(s.currentPageArticles.slice(0,1),t=>(a(),o("li",{class:"col-12",key:t.id,"data-aos":"fade-up","data-aos-duration":"1200","data-aos-delay":"100","data-aos-once":"true"},[e("div",X,[e("img",{src:t.image,alt:t.title,class:"w-100 h-100 object-fit-cover"},null,8,Y),e("div",Z,[e("h3",tt,g(t.title),1),c(i,{to:`/articles/${t.id}`,class:"custom-btn custom-btn-more"},{default:n(()=>[d("MORE")]),_:2},1032,["to"])])])]))),128)),(a(!0),o(r,null,m(s.currentPageArticles.slice(1,11),t=>(a(),o("li",{class:"col-12 col-sm-6",key:t.id,"data-aos":"fade-up","data-aos-duration":"1200","data-aos-delay":"100","data-aos-once":"true"},[e("div",et,[e("img",{src:t.image,alt:t.title,class:"w-100 h-100 object-fit-cover"},null,8,st),e("div",at,[e("h3",ot,g(t.title),1),c(i,{to:`/articles/${t.id}`,class:"custom-btn custom-btn-more"},{default:n(()=>[d("MORE")]),_:2},1032,["to"])])])]))),128))]),s.isLoading?j("",!0):(a(),A(f,{key:0,"total-items":s.articles.length,"items-per-page":11,"max-pages-shown":3,modelValue:l.articlesCurrentPage,"onUpdate:modelValue":u[0]||(u[0]=t=>l.articlesCurrentPage=t),onClick:s.changePage,"pagination-container-class":"cus-pagination va-pagination mb-20 mb-lg-25","paginate-buttons-class":"page-link","number-buttons-class":"fs-8","active-page-class":"active"},{"prev-button":n(()=>[it]),"next-button":n(()=>[nt]),_:1},8,["total-items","modelValue","onClick"]))]),c(P,{active:s.isLoading},null,8,["active"])],64)}const ut=x(N,[["render",lt]]);export{ut as default};
