import{S as h}from"./sweetalert2.all-y8mgFPfW.js";import{_ as p,c as l,e as t,d as u,t as c,F as d,r as g,o as n,u as m,w as f,j as v}from"./index-BUi18zZB.js";var x={VITE_APP_API_URL:"https://ec-course-api.hexschool.io/v2",VITE_APP_API_NAME:"greensheep",BASE_URL:"/greensheep/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API_URL:P,VITE_APP_API_NAME:I}=x,y={data(){return{myFavoritesId:[],myFavoriteProducts:[]}},methods:{checkLogin(){localStorage.getItem("userInfo")?this.getFavorites():h.fire({title:"您尚未登入?",icon:"warning",confirmButtonColor:"#d33",cancelButtonColor:"#566b5a",confirmButtonText:"  是  "}).then(()=>{this.$router.push("/memberLogin")})},getFavorites(){let r=localStorage.getItem("userInfo");const e=JSON.parse(r).id;this.$http.get("https://greensheep-json-server.onrender.com/favorites").then(o=>{o.data.forEach(a=>{a.userId==e&&this.myFavoritesId.push(a)}),this.getFavoriteProducts()}).catch(o=>{console.log(o)})},getFavoriteProducts(){const r=`${P}/api/${I}/products/all`;this.$http.get(r).then(e=>{e.data.products.forEach(i=>{this.myFavoritesId.forEach(o=>{i.id==o.productId&&this.myFavoriteProducts.push(i)})})}).catch(e=>{console.log(e)})}},mounted(){this.checkLogin()}},F=t("h1",{class:"fs-3 fs-lg-2 text-start mb-6"},"我的收藏",-1),b={class:"d-flex flex-wrap mb-8"},E={class:"position-relative",style:{width:"100%","padding-top":"100%"}},w=["src"],A={class:"card-body text-start d-flex flex-column justify-content-between p-1 flex-grow-1"},U={class:"card-title display-8 text-dark pt-2"},k={class:"badge rounded-pill text-bg-warning"},S={class:"mt-2"},$={class:"card-text display-8 text-primary py-2"};function B(r,e,i,o,a,V){const _=v("router-link");return n(),l(d,null,[F,t("div",b,[u(c(console.log(a.myFavoriteProducts))+" ",1),(n(!0),l(d,null,g(a.myFavoriteProducts,s=>(n(),m(_,{to:`/products/${s.id}`,target:"_blank",class:"d-flex flex-column product-item me-6 mb-6 w-25 m-4",key:s.id},{default:f(()=>[t("div",E,[t("img",{src:s.imageUrl,class:"card-img-top position-absolute top-0 start-0 object-fit-cover",alt:"蔚藍海洋 - Freedom | 拉利瑪海紋石純銀項鍊"},null,8,w)]),t("div",A,[t("h5",U,[t("div",k,c(s.category),1),t("div",S,c(s.title),1)]),t("p",$,"NT$"+c(s.price),1)])]),_:2},1032,["to"]))),128))])],64)}const N=p(y,[["render",B]]);export{N as default};
