import{S as x}from"./sweetalert2.all-CYmlyNIM.js";import{_,c as w,d as l,w as v,F as y,b as e,j as r,o as k,g as c,v as u,n as p}from"./index-SYHPK7Jv.js";let V=localStorage.getItem("userInfo");const f=JSON.parse(V).id,U={data(){return{isLoading:!1,user:{email:"",password:"",id:0,nickName:"",birthday:"",location:"",phone:""}}},methods:{getUser(){this.isLoading=!0,this.$http.get("https://greensheep-json-server.onrender.com/users").then(s=>{this.isLoading=!1,s.data.forEach(i=>{i.id===f&&(this.user=i)})}).catch(s=>{console.log(s)})},updateUser(){const a=`https://greensheep-json-server.onrender.com/users/${f}`,s={nickName:this.user.nickName,location:this.user.location,phone:this.user.phone};this.isLoading=!0,this.$http.patch(a,s).then(()=>{this.isLoading=!1,x.fire({position:"top-end",icon:"success",title:"會員資料修改成功",showConfirmButton:!1,toast:!0,timer:1500})}).catch(i=>{console.log(i)})}},mounted(){this.getUser()}},L=e("h1",{class:"fs-3 fs-lg-2 text-start mb-6 fw-bold"},"會員資料",-1),N={class:"d-flex w-75 mb-5 mx-auto align-items-center"},S=e("label",{for:"email",class:"text-primary me-3 fs-9 fs-md-6 w-10"},"信箱：",-1),j={class:"d-flex w-75 mb-5 mx-auto align-items-center"},B=e("label",{for:"birthday",class:"text-primary me-3 fs-9 fs-md-6 w-10"},"生日：",-1),C={class:"d-flex w-75 mb-5 mx-auto align-items-center"},F=e("label",{for:"pwd",class:"text-primary me-3 fs-9 fs-md-6 w-10"},"密碼：",-1),q={class:"d-flex w-75 mb-5 mx-auto align-items-center"},I=e("label",{for:"nickname",class:"text-primary me-3 fs-9 fs-md-6 w-10"},"暱稱：",-1),E={class:"w-100"},M={class:"d-flex w-75 mb-5 mx-auto align-items-center"},z=e("label",{for:"address",class:"text-primary me-3 fs-9 fs-md-6 w-10"},"地址：",-1),D={class:"w-100"},H={class:"d-flex w-75 mb-5 mx-auto align-items-center"},J=e("label",{for:"tel",class:"text-primary me-3 fs-9 fs-md-6 w-10"},"電話：",-1),O={class:"w-100"},T=e("div",{class:"w-75 px-25 mx-auto d-flex justify-content-end"},[e("button",{type:"submit",class:"px-4 py-3 fs-7 fs-md-6 bg-primary border-0 text-white"}," 修改資料 ")],-1);function A(a,s,i,G,o,b){const d=r("v-field"),m=r("error-message"),h=r("VForm"),g=r("VueLoading");return k(),w(y,null,[L,l(h,{onSubmit:s[6]||(s[6]=n=>b.updateUser()),action:"",class:"py-8 border border-1 border-primary w-100 text-start",style:{"border-radius":"30px 0"}},{default:v(({errors:n})=>[e("div",N,[S,c(e("input",{type:"email",class:"form-control d-inline-block p-2 flex-grow-1",id:"email",value:"greensheep@google.com",disabled:"","onUpdate:modelValue":s[0]||(s[0]=t=>o.user.email=t)},null,512),[[u,o.user.email]])]),e("div",j,[B,c(e("input",{type:"text",class:"form-control d-inline-block p-2 flex-grow-1",id:"birthday",value:"2000-01-01",disabled:"","onUpdate:modelValue":s[1]||(s[1]=t=>o.user.birthday=t)},null,512),[[u,o.user.birthday]])]),e("div",C,[F,c(e("input",{type:"password",class:"form-control d-inline-block p-2 flex-grow-1",id:"pwd",value:"000000","onUpdate:modelValue":s[2]||(s[2]=t=>o.user.password=t),disabled:""},null,512),[[u,o.user.password]])]),e("div",q,[I,e("div",E,[l(d,{id:"nickname",name:"姓名",type:"text",class:p(["form-control d-inline-block p-2 flex-grow-1 border-0",{"is-invalid":n.姓名}]),rules:"required",modelValue:o.user.nickName,"onUpdate:modelValue":s[3]||(s[3]=t=>o.user.nickName=t)},null,8,["class","modelValue"]),l(m,{name:"姓名",class:"invalid-feedback"})])]),e("div",M,[z,e("div",D,[l(d,{id:"address",name:"地址",type:"text",class:p(["form-control d-inline-block p-2 flex-grow-1 border-0",{"is-invalid":n.地址}]),rules:"required",modelValue:o.user.location,"onUpdate:modelValue":s[4]||(s[4]=t=>o.user.location=t)},null,8,["class","modelValue"]),l(m,{name:"地址",class:"invalid-feedback d-block"})])]),e("div",H,[J,e("div",O,[l(d,{id:"tel",name:"電話",type:"tel",class:p(["form-control d-inline-block p-2 flex-grow-1 border-0",{"is-invalid":n.電話}]),rules:"required|digits:10",modelValue:o.user.phone,"onUpdate:modelValue":s[5]||(s[5]=t=>o.user.phone=t)},null,8,["class","modelValue"]),l(m,{name:"電話",class:"invalid-feedback"})])]),T]),_:1}),l(g,{active:o.isLoading},null,8,["active"])],64)}const Q=_(U,[["render",A]]);export{Q as default};
