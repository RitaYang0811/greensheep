import{M as L}from"./modal-CC4Rtmlt.js";import{E as M}from"./smtp-6XTZpYJq.js";import{_ as E,o as c,u as w,w as C,e,b as a,x as m,j as d,z as x,Q as T,c as f,i as k,d as _,F as U,f as S,t as G,p as A,k as D}from"./index-DGOzVnja.js";import{_ as I}from"./GreenSheep-DGMgQRZ1.js";import{_ as B,a as O}from"./line-image-EM7MkwlQ.js";import"./selector-engine-Bx8N0hNU.js";const P="https://greensheep-json-server.onrender.com",z={props:["verificationCode","userInfo"],data(){return{securityInput:null,user:{}}},methods:{checkCode(){if(this.securityInput===this.verificationCode){alert("驗證成功"),this.onSubmit();return}alert("驗證碼輸入錯誤")},onSubmit(){this.user={nickName:this.userInfo.name,email:this.userInfo.email.toLowerCase(),password:this.userInfo.password,birthday:this.userInfo.birthday,favorites:[],location:"",phone:""},this.$http.post(`${P}/users`,this.user).then(t=>{alert("註冊成功囉!"),this.$router.push({name:"MemberLogin"})}).catch(t=>{console.log(t)})}}},N={class:"form-floating mb-3"},R=e("label",{for:"securityCode",class:"z-0"},"請輸入驗證碼",-1),j=e("div",{class:"button-img-box me-1"},[e("img",{src:I,alt:"圖像"})],-1),q=e("p",null,"驗證註冊",-1),F=[j,q];function H(t,s,n,y,o,l){const h=d("v-field"),p=d("error-message"),g=d("v-form");return c(),w(g,{ref:"form",class:"member-form"},{default:C(({errors:v})=>[e("div",N,[a(h,{id:"securityCode",name:"驗證碼",type:"text",class:m(["form-control",{"is-invalid":v.驗證碼}]),placeholder:"請輸入驗證碼",rules:"required",modelValue:o.securityInput,"onUpdate:modelValue":s[0]||(s[0]=b=>o.securityInput=b)},null,8,["class","modelValue"]),R,a(p,{name:"驗證碼",class:"invalid-feedback text-start"})]),e("button",{type:"button",class:"d-flex justify-content-center align-items-center btn btn-primary sub-button",onClick:s[1]||(s[1]=(...b)=>l.checkCode&&l.checkCode(...b))},F)]),_:1},512)}const Y=E(z,[["render",H]]),W="https://greensheep-json-server.onrender.com",Q={components:{verification:Y},data(){return{user:{},date:new Date,birthday:"",policy:{DOCState:!0,Modal:"",Check:!1},alertText:"",signupState:!0,securityState:!1,GOOGLECLIENT:"780150754854-h5d15n56b8clqorddealcei20qcv17dd.apps.googleusercontent.com",googleToken:null,initCount:0,confirmCount:0,checkEyeState:!1,confirmEyeState:!1,passwordActive:!1,confirmActive:!1}},methods:{blurFunction(){this.date===null&&(this.date=new Date)},emailRule(t){return/^[\w\.-]+@(gmail\.com|yahoo\.com\.tw)$/.test(t)?!0:"請輸入Gmail/Yahoo帳號"},passwordRule(t){return t!==void 0&&/^(?!.*\d{6,})(?!.*(.)\1{4,}).{6,12}$/.test(t)?(this.checkEyeState=!1,this.initCount=0,!0):(this.initCount&&(this.checkEyeState=!0),this.initCount+=1,"請輸入正確密碼")},confirmPasswordRule(t){return t===this.user.password&&t?(this.confirmEyeState=!1,this.confirmCount=0,!0):(this.confirmCount&&(this.confirmEyeState=!0),this.confirmCount+=1,"請輸入相同密碼")},format(){return this.user.birthday=`${this.date.getFullYear()}/${this.date.getMonth()+1}/${this.date.getDate()}`,`您的生日: ${this.user.birthday}`},openModal(t){t==="條款"?this.policy.DOCState=!0:this.policy.DOCState=!1,this.policy.Modal.show()},policyRule(t){!this.policy.Check&&t==="註冊"?this.alertText="請詳閱條款和政策":t==="驗證"&&(this.policy.Check=!this.policy.Check,this.alertText="",this.policy.Check||(this.alertText="請詳閱條款和政策"))},async checkAccounts(t){try{return t=t.toLowerCase(),(await x.get(`${W}/users/?email=${t}`)).data.length!==0}catch(s){console.log(s.response.data)}},async onSubmit(){this.policyRule("註冊"),await this.checkAccounts(this.user.email)?(alert("此信箱已經註冊過囉!"),this.$router.push({name:"MemberLogin"})):this.policy.Check&&this.signUp()},signUp(){this.user.securityCode=this.securityCode(),this.signupState=!1,this.securityState=!0;const t=`使用者:${this.user.email}<br/>驗證碼:${this.user.securityCode}<br/>Messages:申請註冊GreenSheep會員<br/> `;M.send({SecureToken:"0435dc8c-9e69-445a-9569-0d031827457c",To:`${this.user.email}`,From:"greensheep0619@gmail.com",Subject:"親愛的會員您好，GreenSheep客服中心寄送驗證碼來囉~",Body:t}).then(s=>{alert("已發送驗證碼到信箱囉!")})},securityCode(t=5){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let y=0;y<t;y++){const o=Math.floor(Math.random()*s.length);n+=s.charAt(o)}return n},accessTokenLogin(){T({clientId:this.GOOGLECLIENT}).then(t=>{this.googleToken=t.access_token,this.fetchContactInfo()})},async fetchContactInfo(){try{const t=await x.get("https://www.googleapis.com/oauth2/v1/userinfo",{headers:{Authorization:`Bearer ${this.googleToken}`}});this.$router.push({path:"/OtherLogin",query:{googleEmail:t.data.email,googleName:t.data.name}})}catch(t){console.error("獲取聯絡人信息時出錯:",t)}},lineLoginEvent(){let t="2003862374",s=encodeURIComponent("https://ritayang0811.github.io/greensheep/#/OtherLogin"),n="https://access.line.me/oauth2/v2.1/authorize?";n+="response_type=code",n+=`&client_id=${t}`,n+=`&redirect_uri=${s}`,n+="&state=123456789",n+="&scope=openid%20profile%20email",n+="&nonce=helloWorld",n+="&prompt= consent",n+="&max_age=3600",n+="&ui_locales=zh-TW",n+="&bot_prompt=normal",window.open(n,"_self")}},computed:{codeUpdate(){return this.user.securityCode}},mounted(){this.policy.Modal=new L(this.$refs.policyModal)}},i=t=>(A("data-v-e391c0f5"),t=t(),D(),t),J={class:"d-flex flex-column align-items-center py-15"},K=i(()=>e("div",null,[e("h2",{class:"fs-2"},"WELCOME"),e("p",{class:"text-primary"},"Discover Your Unique Elegance")],-1)),X={class:"w-50 member-content"},Z={class:"d-flex flex-column align-items-center py-8"},$=i(()=>e("h1",{class:"fs-1 mb-8"},"會員註冊",-1)),ee={class:"list-unstyled"},se={class:"py-3"},te=i(()=>e("span",{class:"g-login-btnIcon"},[e("img",{src:B,alt:"line圖片"})],-1)),oe=i(()=>e("span",{class:"g-login-btnText"},"Google登入",-1)),ie=[te,oe],le={class:"py-3"},ne=i(()=>e("span",{class:"g-login-btnIcon"},[e("img",{src:O,alt:"line圖片"})],-1)),re=i(()=>e("span",{class:"g-login-btnText"},"LINE登入",-1)),ae=[ne,re],ce=i(()=>e("p",{class:"d-flex justify-content-center align-items-center py-6 hr-line"},"or",-1)),de={class:"form-floating mb-3"},ue=i(()=>e("label",{for:"name",class:"z-0"},"請輸入暱稱",-1)),me={class:"form-floating mb-3"},he=i(()=>e("label",{for:"email",class:"z-0"},"請輸入Email",-1)),pe={class:"form-floating mb-3"},fe=i(()=>e("label",{for:"password",class:"z-0"},"請輸入密碼(6-12字元且不連續)",-1)),_e={class:"form-floating mb-3"},be=i(()=>e("label",{for:"password",class:"z-0"},"請再次確認密碼",-1)),ye={class:"mb-3"},ge=i(()=>e("p",{class:"mb-1"},"*生日當月贈送消費金，確認後不可更改",-1)),ve=i(()=>e("div",{class:"mb-3 form-check"},[e("input",{type:"checkbox",class:"form-check-input me-1",id:"subNews",checked:""}),e("div",{class:"text-start"},[e("label",{class:"form-check-label",for:"subNews"},"訂閱最新消息")])],-1)),ke={class:"mb-3 form-check"},we={class:"text-start"},Ce={class:"form-check-label"},xe={key:0,class:"text-start alertText"},Se=i(()=>e("button",{type:"submit",class:"d-flex justify-content-center align-items-center btn btn-primary sub-button"},[e("div",{class:"button-img-box me-1"},[e("img",{src:I,alt:"圖像"})]),e("p",null,"立即註冊")],-1)),Ee={class:"mt-1 text-end"},Ie={class:"modal fade",id:"policyModal",tabindex:"-1","aria-labelledby":"policyModalLabel","aria-hidden":"true",ref:"policyModal"},Ve={class:"modal-dialog"},Le={class:"modal-content"},Me={class:"modal-header"},Te={key:0,class:"modal-title fs-5"},Ue={key:1,class:"modal-title fs-5"},Ge=i(()=>e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),Ae={class:"modal-body text-start"},De={key:0,class:"p-4"},Be=i(()=>e("p",null," 歡迎光臨GreenSheep！我們是一個專注於提供精美飾品的電子商務平台。在使用本網站前，請詳細閱讀以下條款，使用本網站即表示您同意遵守以下規定。 ",-1)),Oe=i(()=>e("br",null,null,-1)),Pe=i(()=>e("ul",null,[e("li",null," 使用條款：您同意僅以合法目的使用本網站，不得從事任何違法或損害他人權益的活動。 "),e("li",null," 責任限制：GreenSheep對於因使用本網站而引起的任何直接、間接、附帶或特別的損失不承擔責任。 "),e("li",null," 商品信息：我們努力確保在網站上提供的所有商品信息準確無誤，但不能保證所有信息都是完整和最新的。 "),e("li",null,"使用者責任：您應對您的帳戶和密碼保密，並對在您的帳戶下的所有活動負責。"),e("li",null," 知識產權：本網站上的所有內容，包括但不限於文字、圖像、標誌，均受版權和商標法保護。 "),e("li",null,"其他條款：本條款未涉及的其他問題，將遵循GreenSheep的一般業務實踐和標準。")],-1)),ze={key:1,class:"p-4"},Ne=i(()=>e("p",null," 歡迎您使用GreenSheep網站服務。我們非常重視您的隱私保護，並承諾保護您提供的個人信息。請您在使用本網站前仔細閱讀以下隱私條款內容： ",-1)),Re=i(()=>e("br",null,null,-1)),je=i(()=>e("ul",null,[e("li",null," 收集信息：當您註冊帳戶、下訂單或與我們聯繫時，我們可能收集您的姓名、聯繫方式、郵寄地址等個人信息。 "),e("li",null," 信息用途：我們收集的信息將用於處理訂單、提供客戶服務、改善網站體驗以及向您發送促銷活動和產品信息。 "),e("li",null," 信息保護：我們採取合理的安全措施來保護您的個人信息，防止未經授權的訪問、使用或泄露。 "),e("li",null," 信息分享：我們不會未經您的同意將您的個人信息分享給第三方，除非為了履行訂單或遵守法律法規的要求。 "),e("li",null," Cookie使用：我們可能使用Cookie技術收集和存儲有關您訪問本網站的信息，以改善您的網站體驗。 "),e("li",null,"隱私政策更新：我們保留隨時更新隱私條款的權利，更新後的條款將在本網站上發布。")],-1)),qe=i(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"關閉")],-1));function Fe(t,s,n,y,o,l){const h=d("v-field"),p=d("error-message"),g=d("VueDatePicker"),v=d("v-form"),b=d("verification"),V=d("router-link");return c(),f(U,null,[e("div",J,[K,e("div",X,[e("div",Z,[$,e("div",null,[e("ul",ee,[e("li",se,[e("button",{class:"g-login-btn g-login-btn--google ji-mb-10",onClick:s[0]||(s[0]=(...u)=>l.accessTokenLogin&&l.accessTokenLogin(...u))},ie)]),e("li",le,[e("button",{class:"g-login-btn g-login-btn--line mt-3",onClick:s[1]||(s[1]=(...u)=>l.lineLoginEvent&&l.lineLoginEvent(...u))},ae)])]),ce,o.signupState?(c(),w(v,{key:0,ref:"form",class:"member-form",onSubmit:l.onSubmit},{default:C(({errors:u})=>[e("div",de,[a(h,{id:"name",name:"暱稱",type:"text",class:m(["form-control",{"is-invalid":u.暱稱}]),placeholder:"請輸入暱稱",rules:"required",modelValue:o.user.name,"onUpdate:modelValue":s[2]||(s[2]=r=>o.user.name=r)},null,8,["class","modelValue"]),ue,a(p,{name:"暱稱",class:"invalid-feedback text-start"})]),e("div",me,[a(h,{name:"email",type:"email",class:m(["form-control",{"is-invalid":u.email}]),id:"email","aria-describedby":"emailHelp",placeholder:"請輸入Email (Google/Yahoo)",rules:l.emailRule,modelValue:o.user.email,"onUpdate:modelValue":s[3]||(s[3]=r=>o.user.email=r)},null,8,["class","rules","modelValue"]),he,a(p,{name:"email",class:"invalid-feedback text-start"})]),e("div",pe,[a(h,{name:"password",type:o.passwordActive?"text":"password",class:m(["form-control",{"is-invalid":u.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"請輸入密碼(6-12字元且不連續)",rules:l.passwordRule,modelValue:o.user.password,"onUpdate:modelValue":s[4]||(s[4]=r=>o.user.password=r)},null,8,["type","class","rules","modelValue"]),fe,e("i",{class:m(["checkByEye",[o.passwordActive?"bi-eye":"bi-eye-slash","bi",{"checkByEye-alert":o.checkEyeState}]]),onClick:s[5]||(s[5]=r=>o.passwordActive=!o.passwordActive)},null,2),a(p,{name:"password",class:"invalid-feedback text-start"})]),e("div",_e,[a(h,{name:"confirmPassword",type:o.confirmActive?"text":"password",class:m(["form-control",{"is-invalid":u.confirmPassword}]),id:"confirmPassword","aria-describedby":"passwordHelp",placeholder:"請再次確認密碼",rules:l.confirmPasswordRule,modelValue:o.user.confirmPassword,"onUpdate:modelValue":s[6]||(s[6]=r=>o.user.confirmPassword=r)},null,8,["type","class","rules","modelValue"]),be,e("i",{class:m(["checkByEye",[o.confirmActive?"bi-eye":"bi-eye-slash","bi",{"checkByEye-alert":o.confirmEyeState}]]),onClick:s[7]||(s[7]=r=>o.confirmActive=!o.confirmActive)},null,2),a(p,{name:"confirmPassword",class:"invalid-feedback text-start"})]),e("div",ye,[ge,a(g,{name:"birthdayDate",modelValue:o.date,"onUpdate:modelValue":s[8]||(s[8]=r=>o.date=r),onBlur:l.blurFunction,format:l.format,locale:"zh-Tw","enable-time-picker":!1,"year-first":"",required:""},null,8,["modelValue","onBlur","format"])]),ve,e("div",ke,[e("input",{name:"agreePolicy",type:"checkbox",class:"form-check-input",id:"agreePolicy","aria-describedby":"policyHelp",onClick:s[9]||(s[9]=r=>l.policyRule("驗證"))}),e("div",we,[e("label",Ce,[_(" 本人同意 "),e("a",{href:"#",class:"text-decoration-underline",onClick:s[10]||(s[10]=S(r=>l.openModal("條款"),["prevent"]))},"網站服務條款"),_(" 及 "),e("a",{href:"#",class:"text-decoration-underline",onClick:s[11]||(s[11]=S(r=>l.openModal("政策"),["prevent"]))},"隱私權政策")])]),o.alertText.length?(c(),f("div",xe,G(o.alertText),1)):k("",!0)]),Se]),_:1},8,["onSubmit"])):k("",!0),o.securityState?(c(),w(b,{key:1,"verification-code":l.codeUpdate,userInfo:o.user},null,8,["verification-code","userInfo"])):k("",!0),e("p",Ee,[_(" 已經有帳號了嗎？前往"),a(V,{to:"/memberLogin",class:"text-decoration-underline"},{default:C(()=>[_("登入")]),_:1})])])])])]),e("div",Ie,[e("div",Ve,[e("div",Le,[e("div",Me,[o.policy.DOCState?(c(),f("h1",Te,"網站服務條款")):(c(),f("h1",Ue,"隱私權政策")),Ge]),e("div",Ae,[o.policy.DOCState?(c(),f("div",De,[Be,Oe,Pe,_(" 感謝您選擇GreenSheep作為您購買飾品的平台，我們將竭盡所能為您提供最佳的購物體驗！ ")])):(c(),f("div",ze,[Ne,Re,je,_(" 使用GreenSheep即表示您同意本隱私條款的條件和規定。如果您對此有任何疑問或需要進一步說明，請隨時聯繫我們。 ")]))]),qe])])],512)],64)}const Xe=E(Q,[["render",Fe],["__scopeId","data-v-e391c0f5"]]);export{Xe as default};
