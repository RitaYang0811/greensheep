import{M as R}from"./modal-76CHDRw6.js";import{_ as M,o as d,u as C,w as x,a as e,b as c,A as y,r as u,z as S,Q as L,c as _,d as p,e as w,F as U,j as V,t as E,p as O,l as D}from"./index-2hhN2grE.js";import{_ as I}from"./GreenSheep-bD3MFYq5.js";import{_ as G,a as P}from"./line-messenger-J-5n7JBm.js";import"./selector-engine-UDaMpHuE.js";var g={send:function(t){return new Promise(function(s,o){t.nocache=Math.floor(1e6*Math.random()+1),t.Action="Send";var r=JSON.stringify(t);g.ajaxPost("https://smtpjs.com/v3/smtpjs.aspx?",r,function(l){s(l)})})},ajaxPost:function(t,s,o){var r=g.createCORSRequest("POST",t);r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.onload=function(){var l=r.responseText;o!=null&&o(l)},r.send(s)},ajax:function(t,s){var o=g.createCORSRequest("GET",t);o.onload=function(){var r=o.responseText;s!=null&&s(r)},o.send()},createCORSRequest:function(t,s){var o=new XMLHttpRequest;return"withCredentials"in o?o.open(t,s,!0):typeof XDomainRequest<"u"?(o=new XDomainRequest).open(t,s):o=null,o}};const q="https://greensheep-json-server.onrender.com",j={props:["verificationCode","userInfo"],data(){return{securityCode:null,securityInput:null,user:{}}},computed:{codeUpdate(){return this.securityCode=this.verificationCode}},methods:{checkCode(){if(this.securityInput===this.securityCode){alert("驗證成功"),this.onSubmit();return}alert("驗證碼輸入錯誤")},onSubmit(){this.user={nickName:this.userInfo.name,email:this.userInfo.email,password:this.userInfo.password,birthday:this.userInfo.birthday,favorites:[],location:"",phone:""},this.$http.post(`${q}/users`,this.user).then(t=>{alert("註冊成功囉!"),this.$router.push({name:"MemberLogin"})}).catch(t=>{console.log(t)})}}},N={class:"form-floating mb-3"},B=e("label",{for:"securityCode"},"請輸入驗證碼",-1),z=e("div",{class:"button-img-box me-1"},[e("img",{src:I,alt:"圖像"})],-1),A=e("p",null,"驗證註冊",-1),F=[z,A];function H(t,s,o,r,l,i){const h=u("v-field"),f=u("error-message"),v=u("v-form");return d(),C(v,{ref:"form",class:"member-form"},{default:x(({errors:k})=>[e("div",N,[c(h,{id:"securityCode",name:"驗證碼",type:"text",class:y(["form-control",{"is-invalid":k.驗證碼}]),placeholder:"請輸入驗證碼",rules:"required",modelValue:l.securityInput,"onUpdate:modelValue":s[0]||(s[0]=b=>l.securityInput=b)},null,8,["class","modelValue"]),B,c(f,{name:"驗證碼",class:"invalid-feedback text-start"})]),e("button",{type:"button",class:"d-flex justify-content-center align-items-center btn btn-primary sub-button",onClick:s[1]||(s[1]=(...b)=>i.checkCode&&i.checkCode(...b))},F)]),_:1},512)}const Y=M(j,[["render",H]]),$="https://greensheep-json-server.onrender.com",W={components:{verification:Y},data(){return{user:{},date:new Date,birthday:"",policy:{DOCState:!0,Modal:"",Check:!1},alertText:"",signupState:!0,securityState:!1,GOOGLECLIENT:"780150754854-h5d15n56b8clqorddealcei20qcv17dd.apps.googleusercontent.com",googleToken:null}},methods:{blurFunction(){this.date===null&&(this.date=new Date)},emailRule(t){return/^[\w\.-]+@(gmail\.com|yahoo\.com\.tw)$/.test(t)?!0:"請輸入Gmail/Yahoo帳號"},passwordRule(t){return t!==void 0&&/^(?!.*\d{6,})(?!.*(.)\1{4,}).{6,12}$/.test(t)?!0:"請輸入正確密碼"},confirmPasswordRule(t){return t===this.user.password&&t?!0:"請輸入相同密碼"},format(){return this.user.birthday=`${this.date.getFullYear()}/${this.date.getMonth()+1}/${this.date.getDate()}`,`您的生日: ${this.user.birthday}`},openModal(t){t==="條款"?this.policy.DOCState=!0:this.policy.DOCState=!1,this.policy.Modal.show()},policyRule(t){!this.policy.Check&&t==="註冊"?this.alertText="請詳閱條款和政策":t==="驗證"&&(this.policy.Check=!this.policy.Check,this.alertText="",this.policy.Check||(this.alertText="請詳閱條款和政策"))},async checkAccounts(t){try{return(await S.get(`${$}/users/?email=${t}`)).data.length!==0}catch(s){console.log(s.response.data)}},async onSubmit(){this.policyRule("註冊"),await this.checkAccounts(this.user.email)?(alert("此信箱已經註冊過囉!"),this.$router.push({name:"MemberLogin"})):this.policy.Check&&this.signUp()},signUp(){this.user.securityCode=this.securityCode(),this.signupState=!1,this.securityState=!0;const t=`使用者:Email:${this.user.email}<br/>驗證碼:${this.user.securityCode}<br/>Messages:申請註冊GreenSheep會員<br/> `;g.send({SecureToken:"0435dc8c-9e69-445a-9569-0d031827457c",To:`${this.user.email}`,From:"greensheep0619@gmail.com",Subject:"親愛的會員您好，GreenSheep客服中心寄送驗證碼來囉~",Body:t}).then(s=>{alert("已發送驗證碼到信箱囉!")})},securityCode(t=5){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let o="";for(let r=0;r<t;r++){const l=Math.floor(Math.random()*s.length);o+=s.charAt(l)}return o},accessTokenLogin(){L({clientId:this.GOOGLECLIENT}).then(t=>{this.googleToken=t.access_token,this.fetchContactInfo()})},async fetchContactInfo(){try{const t=await S.get("https://www.googleapis.com/oauth2/v1/userinfo",{headers:{Authorization:`Bearer ${this.googleToken}`}});this.$router.push({path:"/OtherLogin",query:{googleEmail:t.data.email,googleName:t.data.name}})}catch(t){console.error("獲取聯絡人信息時出錯:",t)}},lineLoginEvent(){let t="2003862374",s=encodeURIComponent("http://localhost:5173/greensheep/#/OtherLogin"),o="https://access.line.me/oauth2/v2.1/authorize?";o+="response_type=code",o+=`&client_id=${t}`,o+=`&redirect_uri=${s}`,o+="&state=123456789",o+="&scope=openid%20profile%20email",o+="&nonce=helloWorld",o+="&prompt= consent",o+="&max_age=3600",o+="&ui_locales=zh-TW",o+="&bot_prompt=normal",window.open(o,"_self")}},computed:{codeUpdate(){return this.user.securityCode}},mounted(){this.policy.Modal=new R(this.$refs.policyModal)}},n=t=>(O("data-v-08ec3b0d"),t=t(),D(),t),X={class:"d-flex flex-column align-items-center py-15"},J=n(()=>e("div",null,[e("h2",{class:"fs-2"},"WELCOME"),e("p",{class:"text-primary"},"Discover Your Unique Elegance")],-1)),Q={class:"w-50 member-content"},K={class:"d-flex flex-column align-items-center py-8"},Z=n(()=>e("h1",{class:"fs-1 mb-8"},"會員註冊",-1)),ee={class:"list-unstyled"},te={class:"py-3"},se=n(()=>e("img",{src:G,alt:""},null,-1)),oe={class:"py-3"},le=n(()=>e("img",{src:P,alt:""},null,-1)),ne=n(()=>e("p",{class:"d-flex justify-content-center align-items-center py-6 hr-line"},"or",-1)),ie={class:"form-floating mb-3"},re=n(()=>e("label",{for:"name"},"請輸入暱稱",-1)),ae={class:"form-floating mb-3"},ce=n(()=>e("label",{for:"email"},"請輸入Email",-1)),de={class:"form-floating mb-3"},ue=n(()=>e("label",{for:"password"},"請輸入密碼(6-12字元且不連續)",-1)),me={class:"form-floating mb-3"},pe=n(()=>e("label",{for:"password"},"請再次確認密碼",-1)),he={class:"mb-3"},fe=n(()=>e("p",{class:"mb-1"},"*生日當月贈送消費金，確認後不可更改",-1)),_e=n(()=>e("div",{class:"mb-3 form-check"},[e("input",{type:"checkbox",class:"form-check-input me-1",id:"subNews",checked:""}),e("div",{class:"text-start"},[e("label",{class:"form-check-label",for:"subNews"},"訂閱最新消息")])],-1)),be={class:"mb-3 form-check"},ye={class:"text-start"},ge={class:"form-check-label"},ve={key:0,class:"text-start alertText"},ke=n(()=>e("button",{type:"submit",class:"d-flex justify-content-center align-items-center btn btn-primary sub-button"},[e("div",{class:"button-img-box me-1"},[e("img",{src:I,alt:"圖像"})]),e("p",null,"立即註冊")],-1)),we={class:"mt-1 text-end"},Ce={class:"modal fade",id:"policyModal",tabindex:"-1","aria-labelledby":"policyModalLabel","aria-hidden":"true",ref:"policyModal"},xe={class:"modal-dialog"},Se={class:"modal-content"},Ve={class:"modal-header"},Me={key:0,class:"modal-title fs-5"},Ie={key:1,class:"modal-title fs-5"},Te=n(()=>e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),Re={class:"modal-body text-start"},Le={key:0,class:"p-4"},Ue=n(()=>e("p",null," 歡迎光臨GreenSheep！我們是一個專注於提供精美飾品的電子商務平台。在使用本網站前，請詳細閱讀以下條款，使用本網站即表示您同意遵守以下規定。 ",-1)),Ee=n(()=>e("br",null,null,-1)),Oe=n(()=>e("ul",null,[e("li",null," 使用條款：您同意僅以合法目的使用本網站，不得從事任何違法或損害他人權益的活動。 "),e("li",null," 責任限制：GreenSheep對於因使用本網站而引起的任何直接、間接、附帶或特別的損失不承擔責任。 "),e("li",null," 商品信息：我們努力確保在網站上提供的所有商品信息準確無誤，但不能保證所有信息都是完整和最新的。 "),e("li",null,"使用者責任：您應對您的帳戶和密碼保密，並對在您的帳戶下的所有活動負責。"),e("li",null," 知識產權：本網站上的所有內容，包括但不限於文字、圖像、標誌，均受版權和商標法保護。 "),e("li",null,"其他條款：本條款未涉及的其他問題，將遵循GreenSheep的一般業務實踐和標準。")],-1)),De={key:1,class:"p-4"},Ge=n(()=>e("p",null," 歡迎您使用GreenSheep網站服務。我們非常重視您的隱私保護，並承諾保護您提供的個人信息。請您在使用本網站前仔細閱讀以下隱私條款內容： ",-1)),Pe=n(()=>e("br",null,null,-1)),qe=n(()=>e("ul",null,[e("li",null," 收集信息：當您註冊帳戶、下訂單或與我們聯繫時，我們可能收集您的姓名、聯繫方式、郵寄地址等個人信息。 "),e("li",null," 信息用途：我們收集的信息將用於處理訂單、提供客戶服務、改善網站體驗以及向您發送促銷活動和產品信息。 "),e("li",null," 信息保護：我們採取合理的安全措施來保護您的個人信息，防止未經授權的訪問、使用或泄露。 "),e("li",null," 信息分享：我們不會未經您的同意將您的個人信息分享給第三方，除非為了履行訂單或遵守法律法規的要求。 "),e("li",null," Cookie使用：我們可能使用Cookie技術收集和存儲有關您訪問本網站的信息，以改善您的網站體驗。 "),e("li",null,"隱私政策更新：我們保留隨時更新隱私條款的權利，更新後的條款將在本網站上發布。")],-1)),je=n(()=>e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"關閉")],-1));function Ne(t,s,o,r,l,i){const h=u("v-field"),f=u("error-message"),v=u("VueDatePicker"),k=u("v-form"),b=u("verification"),T=u("router-link");return d(),_(U,null,[e("div",X,[J,e("div",Q,[e("div",K,[Z,e("div",null,[e("ul",ee,[e("li",te,[e("button",{type:"button",onClick:s[0]||(s[0]=(...m)=>i.accessTokenLogin&&i.accessTokenLogin(...m)),class:"p-3 google-account"},[se,p("Google 登 入 ")])]),e("li",oe,[e("button",{class:"p-3 line-account",onClick:s[1]||(s[1]=(...m)=>i.lineLoginEvent&&i.lineLoginEvent(...m))},[le,p(" Line 登 入 ")])])]),ne,l.signupState?(d(),C(k,{key:0,ref:"form",class:"member-form",onSubmit:i.onSubmit},{default:x(({errors:m})=>[e("div",ie,[c(h,{id:"name",name:"暱稱",type:"text",class:y(["form-control",{"is-invalid":m.暱稱}]),placeholder:"請輸入暱稱",rules:"required",modelValue:l.user.name,"onUpdate:modelValue":s[2]||(s[2]=a=>l.user.name=a)},null,8,["class","modelValue"]),re,c(f,{name:"暱稱",class:"invalid-feedback text-start"})]),e("div",ae,[c(h,{name:"email",type:"email",class:y(["form-control",{"is-invalid":m.email}]),id:"email","aria-describedby":"emailHelp",placeholder:"請輸入Email (Google/Yahoo)",rules:i.emailRule,modelValue:l.user.email,"onUpdate:modelValue":s[3]||(s[3]=a=>l.user.email=a)},null,8,["class","rules","modelValue"]),ce,c(f,{name:"email",class:"invalid-feedback text-start"})]),e("div",de,[c(h,{name:"password",type:"password",class:y(["form-control",{"is-invalid":m.password}]),id:"password","aria-describedby":"passwordHelp",placeholder:"請輸入密碼(6-12字元且不連續)",rules:i.passwordRule,modelValue:l.user.password,"onUpdate:modelValue":s[4]||(s[4]=a=>l.user.password=a)},null,8,["class","rules","modelValue"]),ue,c(f,{name:"password",class:"invalid-feedback text-start"})]),e("div",me,[c(h,{name:"confirmPassword",type:"password",class:y(["form-control",{"is-invalid":m.confirmPassword}]),id:"confirmPassword","aria-describedby":"passwordHelp",placeholder:"請再次確認密碼",rules:i.confirmPasswordRule,modelValue:l.user.confirmPassword,"onUpdate:modelValue":s[5]||(s[5]=a=>l.user.confirmPassword=a)},null,8,["class","rules","modelValue"]),pe,c(f,{name:"confirmPassword",class:"invalid-feedback text-start"})]),e("div",he,[fe,c(v,{name:"birthdayDate",modelValue:l.date,"onUpdate:modelValue":s[6]||(s[6]=a=>l.date=a),onBlur:i.blurFunction,format:i.format,locale:"zh-Tw","enable-time-picker":!1,"year-first":"",required:""},null,8,["modelValue","onBlur","format"])]),_e,e("div",be,[e("input",{name:"agreePolicy",type:"checkbox",class:"form-check-input",id:"agreePolicy","aria-describedby":"policyHelp",onClick:s[7]||(s[7]=a=>i.policyRule("驗證"))}),e("div",ye,[e("label",ge,[p(" 本人同意 "),e("a",{href:"#",class:"text-decoration-underline",onClick:s[8]||(s[8]=V(a=>i.openModal("條款"),["prevent"]))},"網站服務條款"),p(" 及 "),e("a",{href:"#",class:"text-decoration-underline",onClick:s[9]||(s[9]=V(a=>i.openModal("政策"),["prevent"]))},"隱私權政策")])]),l.alertText.length?(d(),_("div",ve,E(l.alertText),1)):w("",!0)]),ke]),_:1},8,["onSubmit"])):w("",!0),l.securityState?(d(),C(b,{key:1,"verification-code":i.codeUpdate,userInfo:l.user},null,8,["verification-code","userInfo"])):w("",!0),e("p",we,[p(" 已經有帳號了嗎？前往"),c(T,{to:"/memberLogin",class:"text-decoration-underline"},{default:x(()=>[p("登入")]),_:1})])])])])]),e("div",Ce,[e("div",xe,[e("div",Se,[e("div",Ve,[l.policy.DOCState?(d(),_("h1",Me,"網站服務條款")):(d(),_("h1",Ie,"隱私權政策")),Te]),e("div",Re,[l.policy.DOCState?(d(),_("div",Le,[Ue,Ee,Oe,p(" 感謝您選擇GreenSheep作為您購買飾品的平台，我們將竭盡所能為您提供最佳的購物體驗！ ")])):(d(),_("div",De,[Ge,Pe,qe,p(" 使用GreenSheep即表示您同意本隱私條款的條件和規定。如果您對此有任何疑問或需要進一步說明，請隨時聯繫我們。 ")]))]),je])])],512)],64)}const Ye=M(W,[["render",Ne],["__scopeId","data-v-08ec3b0d"]]);export{Ye as default};
