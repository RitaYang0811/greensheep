import{y as o,z as c}from"./index-B6g3WjpO.js";import{t as l}from"./sweetalertToast-C8owJQ6A.js";import{s as g}from"./scrollToTop-BdmBcgwt.js";const p=o("articleStore",{state:()=>({articles:[],currentPage:1,currentPageArticles:[],isLoading:!1}),actions:{async getArticles(){try{this.isLoading=!0;let t,s;const r="https://ec-course-api.hexschool.io/v2/api/greensheep/articles",a=await c.get(r);for(this.articles=a.data.articles,t=a.data.pagination.current_page+1,s=a.data.pagination.total_pages;t<=s;){const e=await c.get(`${r}?page=${t}`);this.articles=[...this.articles,...e.data.articles],t++}this.articles.sort((e,i)=>{const n=e.isPinned===void 0?0:Number(e.isPinned);return(i.isPinned===void 0?0:Number(i.isPinned))-n}),this.changePage(this.currentPage)}catch(t){l(t.response.data.message)}finally{this.isLoading=!1}},changePage(t){this.currentPageArticles=this.articles.slice((t-1)*11,t*11),g()},updateCurrentPage(t){this.currentPage=t}}});export{p as a};
