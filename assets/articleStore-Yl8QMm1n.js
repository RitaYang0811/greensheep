import{y as o,C as n}from"./index-D7ala9mg.js";import{t as l}from"./sweetalertToast-CYAj1BLf.js";import{s as P}from"./scrollToTop-BdmBcgwt.js";var g={VITE_APP_API_URL:"https://ec-course-api.hexschool.io/v2",VITE_APP_API_NAME:"greensheep",VITE_LINE_CLIENT_ID:"x9iTcS6m9Fdlz8XFfAbkqs",VITE_LINE_CLIENT_SECRET:"iGiOLRLmU2aNTDuObVQlcP5XzPYSbUzJ9gvUl4YvPzx",BASE_URL:"/greensheep/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API_URL:_,VITE_APP_API_NAME:u}=g,E=o("articleStore",{state:()=>({articles:[],currentPage:1,currentPageArticles:[],isLoading:!1}),actions:{async getArticles(){try{this.isLoading=!0;let e,s;const i=`${_}/api/${u}/articles`,a=await n.get(i);for(this.articles=a.data.articles,e=a.data.pagination.current_page+1,s=a.data.pagination.total_pages;e<=s;){const t=await n.get(`${i}?page=${e}`);this.articles=[...this.articles,...t.data.articles],e++}this.articles.sort((t,r)=>{const c=t.isPinned===void 0?0:Number(t.isPinned);return(r.isPinned===void 0?0:Number(r.isPinned))-c}),this.changePage(this.currentPage)}catch(e){l(e.response.data.message)}finally{this.isLoading=!1}},changePage(e){this.currentPageArticles=this.articles.slice((e-1)*11,e*11),P()},updateCurrentPage(e){this.currentPage=e}}});export{E as a};
