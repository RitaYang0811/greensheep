import{z as i,y as n}from"./index-CS2eoewo.js";var r={VITE_APP_API_URL:"https://ec-course-api.hexschool.io/v2",VITE_APP_API_NAME:"greensheep",VITE_LINE_CLIENT_ID:"x9iTcS6m9Fdlz8XFfAbkqs",VITE_LINE_CLIENT_SECRET:"iGiOLRLmU2aNTDuObVQlcP5XzPYSbUzJ9gvUl4YvPzx",BASE_URL:"/greensheep/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_LINE_CLIENT_ID:a,VITE_LINE_CLIENT_SECRET:l}=r,d=i("lineNotifyStore",{state:()=>({accessToken:null}),actions:{lineGetOrder(){const o=encodeURIComponent("https://ritayang0811.github.io/greensheep/#/admin/home"),s=`https://notify-bot.line.me/oauth/authorize?response_type=code&client_id=${a}&redirect_uri=${o}&state=12345&scope=notify`;window.location.href=s},lineGetAccessToken(o){console.log("code",o);const t={fn:"getToken",code:o,redirect_uri:"https://ritayang0811.github.io/greensheep/#/admin/home",client_id:a,client_secret:l};console.log("params",t),n.post("https://script.google.com/macros/s/AKfycbyWxX2sYUoAdDTD7LHdivBF_PuaEjvaUMVjqdSOnzlPo2fNoxICBCbe7UTDh3k_g_7r/exec",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{console.log(e);const{data:c}=e;this.accessToken=c.access_token,c.status===200&&this.sendLineNotification(c.access_token),console.log("token",this.accessToken)}).catch(e=>{console.error(e)})},sendLineNotification(o){const t="https://script.google.com/macros/s/AKfycbyWxX2sYUoAdDTD7LHdivBF_PuaEjvaUMVjqdSOnzlPo2fNoxICBCbe7UTDh3k_g_7r/exec",s={message:"已經收到您的訂單囉！",accessToken:o};n.post(t,s,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{console.log(e.data)}).catch(e=>{console.error(e)})},sendMakingNotification(o){const t="https://script.google.com/macros/s/AKfycbyWxX2sYUoAdDTD7LHdivBF_PuaEjvaUMVjqdSOnzlPo2fNoxICBCbe7UTDh3k_g_7r/exec",s={message:"您的訂單正在努力製作中囉，敬請期待",accessToken:o};n.post(t,s,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{console.log(e.data)}).catch(e=>{console.error(e)})},sendDeliverNotification(o){const t="https://script.google.com/macros/s/AKfycbyWxX2sYUoAdDTD7LHdivBF_PuaEjvaUMVjqdSOnzlPo2fNoxICBCbe7UTDh3k_g_7r/exec",s={message:"感謝您的耐心等待，您的訂單已經出貨，祝您收禮愉快！",accessToken:o};n.post(t,s,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{console.log(e.data)}).catch(e=>{console.error(e)})}}});export{d as l};
