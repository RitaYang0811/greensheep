import{z as n,A as r}from"./index-BONkIGd3.js";const d=n("searchStore",{state:()=>({searchQuery:""}),actions:{setSearchWord(t){this.searchQuery=t,console.log("store搜索詞",this.searchQuery)}}});var u={VITE_APP_API_URL:"https://ec-course-api.hexschool.io/v2",VITE_APP_API_NAME:"greensheep",BASE_URL:"/greensheep/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API_URL:a,VITE_APP_API_NAME:c}=u;d();const l=n("productStore",{state:()=>({products:[],filterProducts:[],recommendProducts:[],category:"全部商品 ALL",categories:["項鍊 PENDANT","戒指 RING","耳環 EARRINGS","手鍊 BRACELET"],productInfo:{},pagination:{},loadingStatus:!1}),actions:{async getProducts(t,s=1){this.loadingStatus=!0;const{category:o=""}=t.query;console.log("getProducts的路由",t),this.category=o;const i=`${a}/api/${c}/products?category=${o}&page=${s}`;try{const e=await r.get(i);this.products=e.data.products,console.log("所有商品",this.products),this.pagination={...e.data.pagination}}catch(e){console.error(e.data.message)}finally{this.loadingStatus=!1}},async getProductInfo(t){const s=`${a}/api/${c}/product/${t}`;try{const o=await r.get(s);this.loadingStatus=!0,console.log(o.data),this.productInfo=o.data.product}catch(o){console.error(o)}finally{this.loadingStatus=!1}},async getRecommendProducts(t){for(this.recommendProducts=[];this.recommendProducts.length<4;){const s=this.products[Math.floor(Math.random()*this.products.length)];(!this.recommendProducts.includes(s)||t===this.recommendProducts.id)&&this.recommendProducts.push(s)}}}});export{l as p,d as s};
