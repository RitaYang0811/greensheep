import{_ as l,y as r,c as d,o as p}from"./index-dwIyU8JD.js";import{Q as a}from"./index-BY5RyTAz.js";const _={methods:{lineGetOrder(){const o="x9iTcS6m9Fdlz8XFfAbkqs",e=encodeURIComponent("https://ritayang0811.github.io/greensheep/#/test"),t=`https://notify-bot.line.me/oauth/authorize?response_type=code&client_id=${o}&redirect_uri=${e}&state=12345&scope=notify`;window.location.href=t},lineGetAccessToken(o){const e="x9iTcS6m9Fdlz8XFfAbkqs",s="oRpCYWXDYgFqAXqBpUxLRwMWhdop4AGaN0l8RwNe0am",t=encodeURIComponent("https://ritayang0811.github.io/greensheep/#/test"),c="https://notify-bot.line.me/oauth/token",i=a.stringify({grant_type:"authorization_code",code:o,redirect_uri:t,client_id:e,client_secret:s});r.post(c,i,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(n=>{console.log(n.data.access_token),this.sendLineNotification(n.data.access_token)}).catch(n=>{console.error(n)})},sendLineNotification(o){r.post("https://notify-api.line.me/api/notify",a.stringify({message:"您的通知消息"}),{headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Bearer ${o}`}}).then(t=>{console.log(t.data)}).catch(t=>{console.error(t)})}},created(){const e=new URLSearchParams(window.location.search).get("code");e?(console.log("@@",e),this.lineGetAccessToken(e)):console.error("未獲取到授權碼")}};function h(o,e,s,t,c,i){return p(),d("button",{type:"button",class:"my-40",onClick:e[0]||(e[0]=(...n)=>i.lineGetOrder&&i.lineGetOrder(...n))},"點我")}const u=l(_,[["render",h]]);export{u as default};
